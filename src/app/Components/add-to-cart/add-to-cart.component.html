<div class="row">
  <div class="col-md-6">
    <ng-container *ngIf="products.length != 0" class="mb-5">
      <div class="container mb-5">
        <div class="card-table shadow p-3 mb-5 bg rounded">
          <div class="cart-product">
            <table class="table table-responsive">
              <thead>
                <tr>
                  <th>Sr.No</th>
                  <th>Product</th>
                  <th>Price</th>
                  <th>Total</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <br />
                <tr *ngFor="let item of products; let i = index">
                  <td>{{ i + 1 }}</td>
                  <td class="zoom">
                    <b class="text-center">{{ item.title }}</b
                    ><br /><br />
                    <img
                      style="width: 150px"
                      class="shadow p-3 mb-5 bg-body rounded"
                      src="{{ item.image }}"
                      alt="Image Loading..."
                    />
                  </td>
                  <th style="width: 12%">${{ item.price }}</th>
                  <td style="width: 12%">${{ item.price }}</td>
                  <td>
                    <button
                      mat-mini-fab
                      color="warn"
                      (click)="removeItem(item, i)"
                    >
                      <i class="bi bi-trash"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td colspan="1"></td>
                  <td>
                    <button
                      mat-raised-button
                      color="accent"
                      (click)="emptycart()"
                    >
                      Empty Cart
                    </button>
                  </td>
                  <td>
                    <button
                      mat-raised-button
                      color="primary"
                      routerLink="/"
                      class="btn btn-primary"
                    >
                      Shop More
                    </button>
                  </td>
                  <td>
                    <strong> Total : ${{ Total }}</strong>
                  </td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
  <div class="col-md-6">
    <div class="card shadow p-3 bg rounded" [hidden]="products.length == 0">
      <h3 class="mt-5 p-3 text-center" [hidden]="paidFor">
        Total Amount To Pay : <b>${{ Total }}</b>
      </h3>
      <div class="mt-5 p-3 text-center" *ngIf="paidFor">
        <h1>
          Yup, you bought a good Product!
          <br />
          Thank You!
        </h1>
      </div>
      <br />
      <div class="text-center" #paypal></div>
      <div class="text-center">
        <h1>Pay with Stripe</h1>
        <br />
        <button
          mat-raised-button
          color="primary"
          (click)="makePayment(Total)"
          class="btn btn-block"
        >
          <b>Stripe Pay</b>
        </button>
        <br />
      </div>
      <br />
    </div>
  </div>

  <ng-container *ngIf="products.length == 0" class="mb-5">
    <div class="container mb-5">
      <div class="card shadow p-3 mb-5 bg rounded">
        <h5 class="card-title">My Cart</h5>
      </div>
      <div class="center">
        <img
          src="https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90"
          alt=""
        />
        <h4>Your cart is empty!</h4>
        <h6>Add item to it now</h6>
        <button mat-raised-button color="primary" routerLink="/">
          Shop Now
        </button>
      </div>
    </div>
  </ng-container>
</div>
